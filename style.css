:root {
    --primary-color: #e67e22;
    --secondary-color: #2c3e50;
    --bg-color: #f8f9fa;
    --card-bg: #ffffff;
    --text-color: #333;
    --shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    --radius: 12px;
}

* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
    background-color: var(--bg-color);
    color: var(--text-color);
    line-height: 1.6;
}

/* Navbar */
.navbar {
    background-color: var(--card-bg);
    padding: 1rem 2rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    position: sticky;
    top: 0;
    z-index: 1000;
    box-shadow: var(--shadow);
}

.logo {
    font-size: 1.5rem;
    font-weight: bold;
    color: var(--primary-color);
    cursor: pointer;
}

.logo a {
    text-decoration: none;
    /* Rimuove la sottolineatura */
    color: inherit;
    /* Eredita il colore dal padre (.logo), evitando il blu */
    display: inline-block;
    /* Opzionale: aiuta a gestire meglio lo spazio cliccabile */
}

/* Opzionale: mantiene il colore corretto anche quando il link è già stato visitato */
.logo a:visited {
    color: inherit;
}

.menu {
    display: flex;
    list-style: none;
    gap: 20px;
}

.menu a {
    text-decoration: none;
    color: var(--secondary-color);
    font-weight: 500;
    transition: color 0.3s;
}

.menu a:hover {
    color: var(--primary-color);
}

/* Layout Principale */
#app {
    padding: 2rem;
    max-width: 1200px;
    margin: 0 auto;
}

.recipe-card {
    background: var(--card-bg);
    border: 1px solid #e0e0e0;
    border-radius: var(--radius);
    overflow: hidden;
    text-decoration: none;
    color: inherit;
    display: flex;
    flex-direction: column;
    transition: all 0.3s ease;
    box-shadow: var(--shadow);
}

.recipe-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
    border-color: var(--primary-color);
    /* Il bordo diventa arancione al passaggio */
}

.card-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

/* Overlay Categoria e Badge */
.category-label {
    position: absolute;
    bottom: 12px;
    left: 12px;
    background: rgba(230, 126, 34, 0.9);
    color: white;
    padding: 5px 12px;
    border-radius: 6px;
    font-size: 0.75rem;
    font-weight: bold;
    backdrop-filter: blur(4px);
}

.tested-badge {
    position: absolute;
    top: 12px;
    right: 12px;
    background: white;
    border-radius: 50%;
    width: 30px;
    height: 30px;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    font-size: 1.1rem;
}

/* Corpo della Card */
.card-body {
    padding: 15px;
    display: flex;
    flex-direction: column;
    flex-grow: 1;
}

.card-body h3 {
    font-size: 1.15rem;
    margin-bottom: 8px;
    color: var(--secondary-color);
    line-height: 1.3;
}

.rating-stars {
    margin-bottom: 10px;
    font-size: 0.9rem;
}

.card-footer-info {
    margin-top: auto;
    padding-top: 10px;
    border-top: 1px solid #f0f0f0;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 0.85rem;
}

/* Dettaglio Ricetta */
.recipe-container {
    display: grid;
    grid-template-columns: 350px 1fr;
    gap: 30px;
    background: white;
    padding: 30px;
    border-radius: var(--radius);
    box-shadow: var(--shadow);
}

.recipe-image img {
    width: 100%;
    border-radius: var(--radius);
    object-fit: cover;
}

.badges {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin: 15px 0;
}

.badge {
    background: #f0f2f5;
    padding: 6px 14px;
    border-radius: 20px;
    font-size: 0.85rem;
    color: var(--secondary-color);
    font-weight: 500;
}

/* --- STILI RISULTATI RICERCA --- */

/* Il numero totale in alto (Verde) */
.results-count {
    color: #27ae60 !important;
    font-weight: bold;
    font-size: 1.2rem;
    margin-bottom: 20px;
    display: block;
}

/* Accordion delle Categorie */
.category-accordion {
    border: 1px solid #ddd;
    border-radius: 8px;
    margin-bottom: 10px;
    background: white;
}

.category-summary {
    padding: 15px;
    cursor: pointer;
    display: flex;
    align-items: center;
    list-style: none;
    /* Rimuove la freccia di default */
}

.cat-title {
    font-weight: bold;
    font-size: 1.1rem;
    flex-grow: 1;
}

/* Il numerino a fianco della categoria (Verde) */
.cat-count-badge {
    background: #27ae60;
    color: white;
    padding: 2px 10px;
    border-radius: 20px;
    font-size: 0.85rem;
    margin: 0 15px;
}

.cat-icon {
    font-size: 0.8rem;
    transition: transform 0.3s;
}

.search-form-container {
    background: white;
    padding: 20px;
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    margin-bottom: 30px;
}

.search-filters-content {
    display: none;
    /* Nasconde i filtri di default se vuoi il toggle */
    flex-direction: column;
    gap: 20px;
}

.search-filters-content.open {
    display: flex;
}

.search-flex {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
}

.filter-group {
    flex: 1;
    min-width: 200px;
    display: flex;
    flex-direction: column;
    gap: 5px;
}

.filter-group label {
    font-weight: 600;
    font-size: 0.9rem;
    color: var(--secondary-color);
}

.filter-group input,
.filter-group select {
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 8px;
    font-size: 1rem;
}

/* Gestione Tag Ingredienti */
.tags-container {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    margin-top: 10px;
}

.tag-pill {
    background: #e67e22;
    color: white;
    padding: 5px 12px;
    border-radius: 20px;
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 0.85rem;
}

.tag-remove {
    cursor: pointer;
    font-weight: bold;
}

/* Lista Suggerimenti */
.suggestions-list {
    background: white;
    border: 1px solid #ddd;
    border-top: none;
    max-height: 200px;
    overflow-y: auto;
    position: absolute;
    z-index: 100;
    width: 100%;
}

.suggestion-item {
    padding: 10px;
    cursor: pointer;
    transition: background 0.2s;
}

.suggestion-item:hover {
    background: #f0f0f0;
}

/* --- BOTTONI RICERCA --- */

/* Bottone Toggle (Apri/Chiudi Filtri) */
.btn-toggle-filters {
    width: 100%;
    padding: 12px;
    background-color: #3498db;
    /* Blu */
    color: white;
    border: none;
    border-radius: var(--radius);
    cursor: pointer;
    margin-bottom: 15px;
    font-weight: bold;
    font-size: 1rem;
    transition: background 0.3s;
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 10px;
}

.btn-toggle-filters:hover {
    background-color: #2980b9;
    /* Blu più scuro al passaggio */
}

/* Bottone Trova Ricette (Principale) */
.btn-search-main {
    background: linear-gradient(135deg, #e67e22, #d35400);
    /* Arancione moderno */
    color: white;
    border: none;
    padding: 15px 30px;
    font-size: 1.1rem;
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 1px;
    border-radius: 50px;
    /* Effetto pillola */
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(230, 126, 34, 0.3);
    width: 100%;
    margin-top: 20px;
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 10px;
}

.btn-search-main:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(230, 126, 34, 0.4);
    filter: brightness(1.1);
}

.btn-search-main:active {
    transform: translateY(0);
}



/* Container Immagine standard */
.card-image-container {
    position: relative;
    width: 100%;
    height: 180px;
    /* Altezza fissa quando c'è l'immagine */
    background-color: #f0f0f0;
    transition: height 0.3s ease;
}

/* Quando la card NON ha l'immagine */
.recipe-card.no-image .card-image-container {
    height: 40px;
    /* Altezza minima solo per la categoria */
    background-color: transparent;
    /* Togliamo il grigio */
}

/* Regoliamo la posizione della categoria quando non c'è immagine */
.recipe-card.no-image .category-label {
    bottom: 5px;
    left: 10px;
    position: relative;
    /* La rendiamo relativa per non sovrapporla al titolo */
    display: inline-block;
    margin-top: 10px;
}

/* Spostiamo il badge "provata" se non c'è immagine */
.recipe-card.no-image .tested-badge {
    top: 5px;
    right: 10px;
    width: 25px;
    height: 25px;
    font-size: 0.9rem;
}

/* --- SEZIONE COMMENTI E NOTE --- */
.recipe-comments-aside {
    margin-top: 30px;
    padding-top: 20px;
    border-top: 2px solid #eee;
}

.comment-card-aside {
    background: #f9f9f9;
    padding: 12px;
    border-radius: 8px;
    margin-bottom: 10px;
    border-left: 4px solid var(--primary-color);
}

.comment-text {
    font-size: 0.95rem;
    color: #444;
    margin-bottom: 5px;
}

.comment-meta {
    font-size: 0.8rem;
    color: #888;
    text-align: right;
}

.add-comment-box {
    margin-top: 20px;
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.add-comment-box input,
.add-comment-box textarea {
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 6px;
    font-family: inherit;
}

.add-comment-box textarea {
    min-height: 80px;
    resize: vertical;
}

.btn-comment {
    background: var(--secondary-color);
    color: white;
    border: none;
    padding: 10px;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    transition: background 0.3s;
}

.btn-comment:hover {
    background: var(--primary-color);
}


/* --- EFFETTO HOVER PROGRESSIVO STELLINE --- */

.stars-container {
    display: inline-flex;
    flex-direction: row;
    /* Assicura l'ordine corretto */
}

/* Quando passi sopra il contenitore, coloriamo le stelle */
.stars-container:hover .star {
    color: #f1c40f;
    /* Giallo attivo */
}

/* ...ma "spegniamo" (grigio) tutte quelle che seguono la stella puntata dal mouse */
.star:hover~.star {
    color: #ccc;
    /* Grigio spento */
}

/* Effetto ingrandimento sulla stella puntata */
.star:hover {
    transform: scale(1.3);
    color: #f39c12 !important;
    /* Un giallo più caldo per la stella specifica */
}

/* Stile base delle stelle (già presente, ma per sicurezza) */
.star {
    font-size: 1.5rem;
    cursor: pointer;
    transition: transform 0.1s, color 0.1s;
    color: #ccc;
}

.star.active {
    color: #f1c40f;
}

/* --- BOTTONI PAGINA RICETTA --- */


.nav-actions {
    display: flex;
    gap: 12px;
    flex-wrap: wrap;
    margin-bottom: 25px;
    justify-content: space-between;
    width: 100%;
}

.btn-back,
.btn-print-text,
.btn-action-stampata {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 10px 20px;
    border-radius: 50px;
    /* Stile a pillola molto moderno */
    font-weight: 600;
    font-size: 0.9rem;
    cursor: pointer;
    transition: all 0.3s ease;
    border: none;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
}

/* Bottone Torna Indietro */
.btn-back {
    background-color: #f8f9fa;
    color: #555;
    border: 1px solid #ddd;
}

.btn-back:hover {
    background-color: #e9ecef;
    transform: translateX(-3px);
    /* Effetto scivolamento a sinistra */
}

/* Bottone Copia Testo (WhatsApp/Appunti) */


.btn-print-text {
    background-color: #34495e;
    color: white;
}

.btn-print-text:hover {
    background-color: #2c3e50;
    box-shadow: 0 4px 12px rgba(52, 73, 94, 0.3);
}

/* Bottone Segna come Stampata (Dinamico) */
.btn-action-stampata {
    background-color: #f39c12;
    color: white;
}

.btn-action-stampata:hover {
    background-color: #e67e22;
    box-shadow: 0 4px 12px rgba(230, 126, 34, 0.3);
}

/* Classe specifica se la ricetta è GIÀ stata stampata (colore più tenue o verde) */
.btn-action-stampata.already-printed {
    background-color: #27ae60;
}

.recipe-header-centered {
    display: flex !important;
    flex-direction: row !important;
    /* Forza la riga invece della colonna */
    justify-content: center;
    align-items: baseline;
    gap: 20px;
    margin-bottom: 30px;
}

.recipe-header-centered h1 {
    font-size: 2.5rem;
    color: var(--secondary-color);
    margin: 0;
}


.recipe-main-image {
    display: flex;
    justify-content: flex-end;
    flex-shrink: 0;
}

/* Evita che l'immagine diventi troppo grande e rubi spazio alla preparazione */
.recipe-main-image img {
    max-width: 150px;
    /* Ridotto per lasciare spazio ai badge e alla prep */
    height: auto;
    border-radius: var(--radius);
    display: block;
    object-fit: cover;
}

/* --- 1. GRIGLIA CARD (Home e Recenti) --- */
.recipe-grid {
    display: grid !important;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)) !important;
    gap: 25px !important;
    padding: 20px 0;
}

/* Sidebar Ingredienti */
.ingredients-box {
    background: #fdfaf7;
    padding: 20px;
    border-radius: var(--radius);
    border: 1px solid #eee;
}

.btn-portions {
    width: 100%;
    margin-top: 15px;
    padding: 10px;
    background: #3498db;
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-weight: bold;
}

/* Sezione Azioni Nuove */
.btn-action-nav {
    background: #f0f0f0;
    border: 1px solid #ccc;
    padding: 8px 15px;
    border-radius: 20px;
    cursor: pointer;
}

.btn-delete {
    color: #e74c3c;
    border-color: #fab1a0;
}


.recipe-footer-meta {
    margin-bottom: 30px;
    /* Regola questo valore per aumentare o diminuire lo spazio */
    padding-bottom: 10px;
    border-bottom: 1px solid #eee;
    /* Opzionale: aggiunge una sottile linea di separazione */
    color: #666;
}

.comments-section h3 {
    margin-top: 0;
    /* Assicura che il titolo "Note precedenti" non abbia margini extra in alto */
}

/* --- 2. GRIGLIA DETTAGLIO RICETTA (Colonne Ingredienti/Prep) --- */
.recipe-grid-layout {
    display: grid !important;
    /* Colonna sinistra fissa a 320px, destra prende tutto il resto (1fr) */
    grid-template-columns: 320px 1fr !important;
    gap: 30px;
    align-items: start;
}

/* Contenitore a tutto schermo per il login */
#login-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 9999;
}

/* La scatola bianca del form */
.login-box {
    background: white;
    padding: 30px;
    border-radius: 15px;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
    width: 90%;
    max-width: 400px;
    text-align: center;
}

.login-box h2 {
    margin-bottom: 20px;
    color: #333;
}

.login-box input {
    width: 100%;
    padding: 12px;
    margin: 10px 0;
    border: 1px solid #ddd;
    border-radius: 8px;
    box-sizing: border-box;
    /* Importante per il padding */
}

.login-box button {
    width: 100%;
    padding: 12px;
    background-color: #ff4757;
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 16px;
    font-weight: bold;
    margin-top: 10px;
}

.login-box button:hover {
    background-color: #ff6b81;
}

input.no-arrows::-webkit-outer-spin-button,
input.no-arrows::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
}

.input-dose,
#input-porzioni {
    border: 1px solid #ff4757;
    border-radius: 4px;
    padding: 2px 5px;
    text-align: center;
    background: #fff;
    font-weight: bold;
    color: #ff4757;
    width: 60px;
}


.recipe-info-badges {
    display: flex;
    flex-direction: column;
    /* Forza le righe una sotto l'altra */
    gap: 12px;
    /* Spazio tra la riga 1 e la riga 2 */
    flex: 1;
    /* Prende lo spazio necessario a sinistra dell'immagine */
}


/* Ogni singola riga di badge */
.badges-row {
    display: flex;
    flex-wrap: wrap;
    /* Se lo schermo è piccolo, i badge vanno a capo dolcemente */
    gap: 8px;
    /* Spazio tra un badge e l'altro nella stessa riga */
}

/* La riga che contiene badge + immagine */
.recipe-top-row {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    margin-bottom: 25px;
    gap: 20px;
    background: white;
    padding: 15px;
    border-radius: var(--radius);
}

/* Stile opzionale per differenziare i badge del tempo */
.badge-time {
    background-color: #e8f4fd !important;
    /* Un azzurrino leggero o un altro colore a tua scelta */
    color: #2980b9 !important;
    border: 1px solid #d1e9f9;
}

/* Responsive - lasciare sempre in fondo*/

/* --- 1. CONFIGURAZIONE PC (FUORI DAI MEDIA) --- */
.recipe-grid-layout {
    display: grid !important;
    grid-template-columns: 320px 1fr !important;
    gap: 30px;
}

/* bottone occhiolino */
.btn-toggle-view {
    background: transparent;
    border: none;
    cursor: pointer;
    padding: 5px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #4a5568;
    /* Grigio scuro moderno */
    transition: color 0.2s;
}

/* Stile per il bottone nel dettaglio ricetta */
.recipe-header-centered .btn-toggle-view {
    background: #f0f0f0;
    border-radius: 50%;
    width: 40px;
    height: 40px;
    padding: 8px;
    border: 1px solid #ccc;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    margin-left: 10px;
    vertical-align: middle;
    transition: all 0.2s;
}

.recipe-header-centered .btn-toggle-view:hover {
    background: #e0e0e0;
    transform: scale(1.1);
}

/* Forza la dimensione dell'SVG nel dettaglio */
.recipe-header-centered .icon-eye {
    width: 24px;
    height: 24px;
    stroke: #333;
    /* Colore dell'icona */
    stroke-width: 2;
    fill: none;
}


.btn-toggle-view:hover {
    color: #2d3748;
}

.icon-eye {
    width: 24px;
    height: 24px;
    stroke: currentColor;
    stroke-width: 2;
    fill: none;
}

.card-wrapper {
    transition: transform 0.2s;
}

.card-eye-btn {
    position: absolute;
    top: 10px;
    right: 10px;
    z-index: 10;
    /* Fondamentale per stare sopra il link */
    background: rgba(255, 255, 255, 0.5);
    /* Sfondo semitrasparente per vederlo su ogni foto */
    border-radius: 50%;
    width: 36px;
    height: 36px;
    padding: 6px;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 1px solid rgba(255, 255, 255, 0.3);
}

.card-eye-btn:hover {
    background: rgba(0, 0, 0, 0.8);
    transform: scale(1.1);
}

.icon-eye {
    width: 100%;
    height: 100%;
}






/* --- 2. CONFIGURAZIONE MOBILE (SEMPRE IN FONDO AL FILE) --- */
@media (max-width: 800px) {

    .recipe-grid-layout {
        display: flex !important;
        flex-direction: column !important;
        /* Mette tutto in verticale */
        gap: 20px !important;
    }

    /* TRUCCO MAGICO: Ignora i contenitori laterali per riordinare i figli */
    .recipe-sidebar,
    .recipe-main-content {
        display: contents !important;
    }

    /* ORDINE DEGLI ELEMENTI */
    .recipe-top-row {
        order: 1;
    }

    /* 1. Immagine e Badge */
    .ingredients-box {
        order: 2;
    }

    /* 2. Ingredienti */
    .execution-box {
        order: 3;
    }

    /* 3. Preparazione */
    .recipe-footer-meta {
        order: 4;
    }

    /* 4. Autore e Data */
    .comments-section {
        order: 5;
    }

    /* 5. Note precedenti */
    .add-comment-box {
        order: 6;
    }

    /* 6. Box per scrivere (In fondo) */

    /* Sistema i margini per il mobile */
    .add-comment-box {
        margin-top: 10px !important;
        background: #f1f1f1 !important;
    }

    .recipe-header-centered {
        flex-direction: column !important;
    }
}




/* --- FINE STYLE.CSS --- */



/* Contenitore immagine: si stringe attorno alla foto e si ancora a destra */
.recipe-main-image {
    flex-shrink: 0;
    /* Impedisce alla colonna dell'immagine di allargarsi inutilmente */
    display: flex;
    justify-content: flex-end;
}

.recipe-main-image img {
    max-width: 200px;
    height: auto;
    border-radius: var(--radius);
    object-fit: cover;
    display: block;
}